{% extends 'base.html' %}
{% block content %}
<section class="result">
  <h2>{{ career.title }}</h2>
  <p>{{ career.description }}</p>
  <p>Match: {{ matching_pct }}%</p>
  <h3>Suggested Skills</h3>
  <ul>
    {% for s in career.skills %}
      <li>{{ s }}</li>
    {% endfor %}
  </ul>
  <h3>Roadmap</h3>
  <canvas id="roadmapChart"></canvas>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    const roadmap = {{ career.roadmap | tojson | safe }};
    const labels = roadmap.map((r,i) => 'Stage ' + (i+1));
    const data = { labels, datasets: [{ label: 'Career Roadmap', data: roadmap.map((_,i)=> (i+1)*25) }] };
    new Chart(document.getElementById('roadmapChart'), { type: 'bar', data });
  </script>
</section>
{% endblock %}
